" Commands: https://jb.gg/h38q75
" Plugins: https://jb.gg/share-ideavimrc
Plug 'tpope/vim-commentary'
Plug 'tpope/vim-surround'
Plug 'echasnovski/mini.ai'

let mapleader=" "
let maplocalleader=","

""" options
set surround
set commentary
set which-key
set mini-ai

set scrolloff=6
set sidescrolloff=8
set clipboard=unnamedplus

set number
set relativenumber
set incsearch
set ignorecase
set smartcase

set timeoutlen=200
set showmode

""" keymaps
nnoremap <c-s> :w<cr>
inoremap <c-s> <esc>:w<cr>a

nnoremap <leader>` <c-6>
nmap <leader>cs <Action>(SwitchHeaderSource)

nmap <leader><leader> <Action>(GotoFile)

xmap gcc <Action>(CommentByLineComment)
nmap <leader>rn <Action>(RenameElement)
nmap <leader>cf <Action>(ReformatCode)

map <leader>M <Action>(Debug)
map <leader>m <Action>(Run)
map <leader>d <Action>(ToggleLineBreakpoint)

nnoremap J mzJ`z
nnoremap , @@
nnoremap <Esc> :noh<CR><Esc>
nnoremap <C-u> <C-u>zz
nnoremap <C-d> <C-d>zz
nnoremap n nzzzv
nnoremap N Nzzzv

nnoremap <expr> j v:count == 0 ? 'gj' : 'j'
xnoremap <expr> j v:count == 0 ? 'gj' : 'j'
nnoremap <expr> k v:count == 0 ? 'gk' : 'k'
xnoremap <expr> k v:count == 0 ? 'gk' : 'k'

nnoremap <expr> n v:searchforward ? 'n' : 'N'
xnoremap <expr> n v:searchforward ? 'n' : 'N'
onoremap <expr> n v:searchforward ? 'n' : 'N'
nnoremap <expr> N v:searchforward ? 'N' : 'n'
xnoremap <expr> N v:searchforward ? 'N' : 'n'
onoremap <expr> N v:searchforward ? 'N' : 'n'

inoremap <Esc> <Esc>
inoremap kj <Esc>
inoremap , ,<C-g>u
inoremap . .<C-g>u
inoremap ; ;<C-g>u

xnoremap < <gv
xnoremap > >gv
